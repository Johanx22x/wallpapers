---
---

<div class="lightbox" id="lightbox" aria-hidden="true">
  <div class="lightbox-backdrop"></div>
  <div class="lightbox-content">
    <div class="lightbox-spinner" id="lightbox-spinner">
      <div class="spinner"></div>
    </div>
    <img class="lightbox-image" id="lightbox-image" alt="" />
    <div class="lightbox-info" id="lightbox-info">
      <span class="lightbox-name" id="lightbox-name"></span>
      <span class="lightbox-resolution" id="lightbox-resolution"></span>
    </div>
    <a class="lightbox-download" id="lightbox-download" download>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="7 10 12 15 17 10"></polyline>
        <line x1="12" y1="15" x2="12" y2="3"></line>
      </svg>
      <span>Download</span>
    </a>
  </div>
  <button class="lightbox-nav lightbox-prev" id="lightbox-prev" aria-label="Previous">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="32"
      height="32"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <polyline points="15 18 9 12 15 6"></polyline>
    </svg>
  </button>
  <button class="lightbox-nav lightbox-next" id="lightbox-next" aria-label="Next">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="32"
      height="32"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </button>
  <button class="lightbox-close" id="lightbox-close" aria-label="Close">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="28"
      height="28"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <line x1="18" y1="6" x2="6" y2="18"></line>
      <line x1="6" y1="6" x2="18" y2="18"></line>
    </svg>
  </button>
</div>

<style>
  .lightbox {
    position: fixed;
    inset: 0;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    opacity: 0;
    visibility: hidden;
  }

  .lightbox.active {
    pointer-events: auto;
    opacity: 1;
    visibility: visible;
  }

  .lightbox-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(17, 17, 27, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }

  .lightbox-content {
    position: relative;
    max-width: 90vw;
    max-height: 85vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .lightbox-spinner {
    position: absolute;
    display: none;
  }

  .lightbox-spinner.loading {
    display: flex;
  }

  .spinner {
    width: 32px;
    height: 32px;
    border: 3px solid var(--ctp-surface1);
    border-top-color: var(--ctp-lavender);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  .lightbox-image {
    max-width: 90vw;
    max-height: 85vh;
    object-fit: contain;
    border-radius: 8px;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .lightbox-image.loaded {
    opacity: 1;
  }

  .lightbox-info {
    position: absolute;
    bottom: -36px;
    left: 0;
    display: flex;
    gap: 12px;
    align-items: baseline;
  }

  .lightbox-name {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--ctp-text);
  }

  .lightbox-resolution {
    font-size: 0.75rem;
    color: var(--ctp-subtext0);
  }

  .lightbox-download {
    position: absolute;
    bottom: -40px;
    right: 0;
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: var(--ctp-lavender);
    color: var(--ctp-base);
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 600;
    transition: background 0.2s ease;
    text-decoration: none;
  }

  .lightbox-download:hover {
    background: var(--ctp-mauve);
  }

  .lightbox-nav {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    z-index: 1001;
    color: var(--ctp-subtext0);
    padding: 16px;
    transition: color 0.2s ease;
  }

  .lightbox-nav:hover {
    color: var(--ctp-text);
  }

  .lightbox-prev {
    left: 16px;
  }

  .lightbox-next {
    right: 16px;
  }

  .lightbox-close {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1001;
    color: var(--ctp-subtext0);
    padding: 8px;
    transition: color 0.2s ease;
  }

  .lightbox-close:hover {
    color: var(--ctp-text);
  }

  @media (max-width: 768px) {
    .lightbox-nav {
      padding: 8px;
    }

    .lightbox-prev {
      left: 4px;
    }

    .lightbox-next {
      right: 4px;
    }

    .lightbox-info {
      bottom: -32px;
      flex-direction: column;
      gap: 2px;
    }

    .lightbox-download {
      bottom: -36px;
      padding: 6px 12px;
    }
  }
</style>
